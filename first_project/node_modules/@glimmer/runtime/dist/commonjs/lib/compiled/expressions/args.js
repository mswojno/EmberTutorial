"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
const positional_args_1 = require("./positional-args");
exports.COMPILED_EMPTY_POSITIONAL_ARGS = positional_args_1.COMPILED_EMPTY_POSITIONAL_ARGS;
exports.CompiledPositionalArgs = positional_args_1.CompiledPositionalArgs;
exports.EvaluatedPositionalArgs = positional_args_1.EvaluatedPositionalArgs;
const named_args_1 = require("./named-args");
exports.COMPILED_EMPTY_NAMED_ARGS = named_args_1.COMPILED_EMPTY_NAMED_ARGS;
exports.CompiledNamedArgs = named_args_1.CompiledNamedArgs;
exports.EvaluatedNamedArgs = named_args_1.EvaluatedNamedArgs;
const reference_1 = require("@glimmer/reference");
exports.EMPTY_BLOCKS = {
    default: null,
    inverse: null
};
class CompiledArgs {
    constructor(positional, named, blocks) {
        this.positional = positional;
        this.named = named;
        this.blocks = blocks;
        this.type = "compiled-args";
    }
    static create(positional, named, blocks) {
        if (positional === positional_args_1.COMPILED_EMPTY_POSITIONAL_ARGS && named === named_args_1.COMPILED_EMPTY_NAMED_ARGS && blocks === exports.EMPTY_BLOCKS) {
            return this.empty();
        }
        else {
            return new this(positional, named, blocks);
        }
    }
    static empty() {
        return exports.COMPILED_EMPTY_ARGS;
    }
    evaluate(vm) {
        let { positional, named, blocks } = this;
        return EvaluatedArgs.create(positional.evaluate(vm), named.evaluate(vm), blocks);
    }
}
exports.CompiledArgs = CompiledArgs;
exports.COMPILED_EMPTY_ARGS = new (class extends CompiledArgs {
    constructor() {
        super(positional_args_1.COMPILED_EMPTY_POSITIONAL_ARGS, named_args_1.COMPILED_EMPTY_NAMED_ARGS, exports.EMPTY_BLOCKS);
    }
    evaluate(_vm) {
        return EMPTY_EVALUATED_ARGS;
    }
});
class EvaluatedArgs {
    constructor(positional, named, blocks) {
        this.positional = positional;
        this.named = named;
        this.blocks = blocks;
        this.tag = reference_1.combineTagged([positional, named]);
    }
    static empty() {
        return EMPTY_EVALUATED_ARGS;
    }
    static create(positional, named, blocks) {
        return new this(positional, named, blocks);
    }
    static positional(values, blocks = exports.EMPTY_BLOCKS) {
        return new this(positional_args_1.EvaluatedPositionalArgs.create(values), named_args_1.EVALUATED_EMPTY_NAMED_ARGS, blocks);
    }
    static named(map, blocks = exports.EMPTY_BLOCKS) {
        return new this(positional_args_1.EVALUATED_EMPTY_POSITIONAL_ARGS, named_args_1.EvaluatedNamedArgs.create(map), blocks);
    }
}
exports.EvaluatedArgs = EvaluatedArgs;
const EMPTY_EVALUATED_ARGS = new EvaluatedArgs(positional_args_1.EVALUATED_EMPTY_POSITIONAL_ARGS, named_args_1.EVALUATED_EMPTY_NAMED_ARGS, exports.EMPTY_BLOCKS);
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiYXJncy5qcyIsInNvdXJjZVJvb3QiOiIiLCJzb3VyY2VzIjpbIi4uLy4uLy4uLy4uLy4uL2xpYi9jb21waWxlZC9leHByZXNzaW9ucy9hcmdzLnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7O0FBQ0EsdURBQXFKO0FBTTVJLDBGQUE4QjtBQWdGOUIsMEVBQXNCO0FBQUUsNEVBQXVCO0FBckZ4RCw2Q0FBNEg7QUFLbkYsMkVBQXlCO0FBZ0ZSLDJEQUFpQjtBQUFFLDZEQUFrQjtBQXBGL0Ysa0RBQStFO0FBV2xFLFFBQUEsWUFBWSxHQUFXO0lBQ2xDLE9BQU8sRUFBRSxJQUFJO0lBQ2IsT0FBTyxFQUFFLElBQUk7Q0FDZCxDQUFDO0FBRUY7SUFlRSxZQUNTLFVBQWtDLEVBQ2xDLEtBQXdCLEVBQ3hCLE1BQWM7UUFGZCxlQUFVLEdBQVYsVUFBVSxDQUF3QjtRQUNsQyxVQUFLLEdBQUwsS0FBSyxDQUFtQjtRQUN4QixXQUFNLEdBQU4sTUFBTSxDQUFRO1FBTGhCLFNBQUksR0FBRyxlQUFlLENBQUM7SUFPOUIsQ0FBQztJQW5CRCxNQUFNLENBQUMsTUFBTSxDQUFDLFVBQWtDLEVBQUUsS0FBd0IsRUFBRSxNQUFjO1FBQ3hGLEVBQUUsQ0FBQyxDQUFDLFVBQVUsS0FBSyxnREFBOEIsSUFBSSxLQUFLLEtBQUssc0NBQXlCLElBQUksTUFBTSxLQUFLLG9CQUFZLENBQUMsQ0FBQyxDQUFDO1lBQ3BILE1BQU0sQ0FBQyxJQUFJLENBQUMsS0FBSyxFQUFFLENBQUM7UUFDdEIsQ0FBQztRQUFDLElBQUksQ0FBQyxDQUFDO1lBQ04sTUFBTSxDQUFDLElBQUksSUFBSSxDQUFDLFVBQVUsRUFBRSxLQUFLLEVBQUUsTUFBTSxDQUFDLENBQUM7UUFDN0MsQ0FBQztJQUNILENBQUM7SUFFRCxNQUFNLENBQUMsS0FBSztRQUNWLE1BQU0sQ0FBQywyQkFBbUIsQ0FBQztJQUM3QixDQUFDO0lBV0QsUUFBUSxDQUFDLEVBQU07UUFDYixJQUFJLEVBQUUsVUFBVSxFQUFFLEtBQUssRUFBRSxNQUFNLEVBQUUsR0FBRyxJQUFJLENBQUM7UUFDekMsTUFBTSxDQUFDLGFBQWEsQ0FBQyxNQUFNLENBQUMsVUFBVSxDQUFDLFFBQVEsQ0FBQyxFQUFFLENBQUMsRUFBRSxLQUFLLENBQUMsUUFBUSxDQUFDLEVBQUUsQ0FBQyxFQUFFLE1BQU0sQ0FBQyxDQUFDO0lBQ25GLENBQUM7Q0FDRjtBQTFCRCxvQ0EwQkM7QUFFWSxRQUFBLG1CQUFtQixHQUFpQixJQUFJLENBQUMsS0FBTSxTQUFRLFlBQVk7SUFDOUU7UUFDRSxLQUFLLENBQUMsZ0RBQThCLEVBQUUsc0NBQXlCLEVBQUUsb0JBQVksQ0FBQyxDQUFDO0lBQ2pGLENBQUM7SUFFRCxRQUFRLENBQUMsR0FBTztRQUNkLE1BQU0sQ0FBQyxvQkFBb0IsQ0FBQztJQUM5QixDQUFDO0NBQ0YsQ0FBQyxDQUFDO0FBRUg7SUFtQkUsWUFDUyxVQUFtQyxFQUNuQyxLQUF5QixFQUN6QixNQUFjO1FBRmQsZUFBVSxHQUFWLFVBQVUsQ0FBeUI7UUFDbkMsVUFBSyxHQUFMLEtBQUssQ0FBb0I7UUFDekIsV0FBTSxHQUFOLE1BQU0sQ0FBUTtRQUVyQixJQUFJLENBQUMsR0FBRyxHQUFHLHlCQUFhLENBQUMsQ0FBQyxVQUFVLEVBQUUsS0FBSyxDQUFDLENBQUMsQ0FBQztJQUNoRCxDQUFDO0lBeEJELE1BQU0sQ0FBQyxLQUFLO1FBQ1YsTUFBTSxDQUFDLG9CQUFvQixDQUFDO0lBQzlCLENBQUM7SUFFRCxNQUFNLENBQUMsTUFBTSxDQUFDLFVBQW1DLEVBQUUsS0FBeUIsRUFBRSxNQUFjO1FBQzFGLE1BQU0sQ0FBQyxJQUFJLElBQUksQ0FBQyxVQUFVLEVBQUUsS0FBSyxFQUFFLE1BQU0sQ0FBQyxDQUFDO0lBQzdDLENBQUM7SUFFRCxNQUFNLENBQUMsVUFBVSxDQUFDLE1BQStCLEVBQUUsTUFBTSxHQUFHLG9CQUFZO1FBQ3RFLE1BQU0sQ0FBQyxJQUFJLElBQUksQ0FBQyx5Q0FBdUIsQ0FBQyxNQUFNLENBQUMsTUFBTSxDQUFDLEVBQUUsdUNBQTBCLEVBQUUsTUFBTSxDQUFDLENBQUM7SUFDOUYsQ0FBQztJQUVELE1BQU0sQ0FBQyxLQUFLLENBQUMsR0FBZ0MsRUFBRSxNQUFNLEdBQUcsb0JBQVk7UUFDbEUsTUFBTSxDQUFDLElBQUksSUFBSSxDQUFDLGlEQUErQixFQUFFLCtCQUFrQixDQUFDLE1BQU0sQ0FBQyxHQUFHLENBQUMsRUFBRSxNQUFNLENBQUMsQ0FBQztJQUMzRixDQUFDO0NBV0Y7QUExQkQsc0NBMEJDO0FBRUQsTUFBTSxvQkFBb0IsR0FBRyxJQUFJLGFBQWEsQ0FBQyxpREFBK0IsRUFBRSx1Q0FBMEIsRUFBRSxvQkFBWSxDQUFDLENBQUMifQ==